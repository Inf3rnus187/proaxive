{% extends '_layout/dashboard/layout.twig' %}

{% block title %}Gestion des paramètres du site internet{% endblock %}

{% block body %}
    {{ include('_notifications.twig') }}
<form method="post" class="form-big" action="">
    <div class="card">
        <div class="card-column d-flex">
            {{ include('dashboard/settings/_card_aside.twig') }}
            <div class="card-inner nopg fg-1">
                <div class="card-inner-header border-bottom pg1 pd-b-1">
                    <div class="grid-12 -noGutter align-items-center">
                        <div class="col-6_sm-12">
                            <h3>Paramètres globaux</h3>
                            Gestion des paramètres de l'application.
                        </div>
                        <div class="col-6_sm-12">
                            <div class="text-right mg-b-1">
                                {{ form.submitSingle('primary', 'saveParameters', 'Enregistrer', false) | raw }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pg1">
                    <div class="grid-12">
                        <div class="col-6_sm-12">
                            <div class="bloc-form">
                                <h2>Gestion des erreurs</h2>
                                {{ form.checkbox('php_error', 'Erreurs PHP') | raw }}
                                {{ form.checkbox('full_error', 'Erreurs Whoops!') | raw }}
                                <p class="alert alert-danger">
                                    Les erreurs Whoops! affichent les erreurs détaillées de PHP et MySQL. Elles contiennent également les variables d'environnements.<br>
                                    <i class="ri-alarm-warning-fill"></i> <u>Ne pas activer Whoops! en production.</u>
                                </p>
                            </div>
                            <div class="bloc-form">
                                <h2>Divers</h2>
                                {{ form.input('society_days', "Jours d'ouverture", 'Ex : Du lundi au samedi', "Ex : Du lundi au samedi") | raw }}
                                {{ form.input('society_hours', "Horaire d'ouverture", 'Ex : 09H-12H / 14H-19H', "Ex : 09H-12H / 14H-19H") | raw }}
                                <div class="form-group">
                                    <label class="control-label">URL de l'application</label>
                                    <input class="form-input underlined disabled" type="text" name="app_url" id="app_url" value="{{ getUrl }}">
                                    <small>Cette adresse est récupérée automatiquement</small></div>
                                {{ form.input('app_login_url', "URL de connexion au panel", 'login-dash', "Ex : http://monproaxive.fr/<strong>login-dash</strong>") | raw }}
                            </div>
                        </div>
                        <div class="col-6_sm-12">
                            <div class="bloc-form">
                                <h2>Options/Thème</h2>
                                {{ form.checkbox('view_version', 'Afficher version', 'Affiche la version Proaxive de la vue cliente') | raw }}
                                {{ form.checkbox('notify_fixed', 'Notif flottante ?', 'Oui pour afficher les notifications en haut à droite') | raw }}
                                {{ form.checkbox('fixed_dark', 'Theme dark par défaut', 'Force le theme Dark') | raw }}
                                {{ form.checkbox('sidebar_dark', 'Menu dark (aside)', 'Menu dark') | raw }}
                                {{ form.checkbox('aside_toggled', 'Minimiser le menu (aside)', 'Minimise le menu') | raw }}
                                {{ form.checkbox('fixed_header', 'Topbar flottante', 'Topbar flottante') | raw }}
                                <h2>Options Accueil</h2>
                                {{ form.checkbox('tile_inter', "Afficher le nombre total des interventions", 'Total Inter') | raw }}
                                {{ form.checkbox('tile_equipment', "Afficher le nombre total des équipements", 'Total Equipment') | raw }}
                                {{ form.checkbox('tile_client', "Afficher le nombre total des clients", 'Total Client') | raw }}
                                {{ form.checkbox('tile_outlay', "Afficher le nombre total des débours", 'Total Outlay') | raw }}
                                {{ form.checkbox('tile_stickies', "Afficher le nombre total des notes", 'Total Stickies') | raw }}
                            </div>
                            <div class="bloc-form">
                                <h2>Dossiers de l'application</h2>
                                <div class="form-group">
                                    <label class="form-label" for="name">Chemin du dossier racine</label>
                                    <input class="form-input underlined" value="{{ varRoot }}" disabled>
                                    <small></small>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="name">Thème admin</label>
                                    <input class="form-input underlined" value="{{ getenv('APP_THEME') }}" disabled>
                                    <small></small>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="name">Dossiers des documents</label>
                                    <input class="form-input underlined" value="{{ varRoot }}documents" disabled>
                                    <small></small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
{% endblock %}